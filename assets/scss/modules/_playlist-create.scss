// =======================
// Playlist Create
// =======================
.playlist-create{
	text-align: center;

	h1{
		padding: 0 2em;
	}
}




//Chosen Tracks
.chosen-tracks{
	margin: 0 -2.5%;
	@extend .clearfix;

  li{
  	position: relative;
  	width: 33.333333333%;
  	float: left;
  	padding: 0 2.5%;
  }

  label{
  	position: absolute;
  	width: 100%;
  	cursor: pointer;
  	top: 0;
  	left: 0;
  	right: 0;
  	bottom: 0;
  }

  .selected{
		&:after{
			content: '';
			position: absolute;
			left: 50%;
			bottom: -50px;
			width: 0;
			height: 0;
			margin-left: -1em;
			border-left: 1em solid transparent;
			border-right: 1em solid transparent;
			border-bottom: 1em solid $green;
		}

		.chosen-track-art{
			border: 0;
		}

		.change-track-button{
			display: none;
		}

		.track-number-label{
			color: $green;
		}
  }
}

.has-track-selection{
	&:hover{
		.change-track-button{
			opacity: 1;
		}
	}

	.chosen-track-inner{
		cursor: pointer;
	}
}

.chosen-track-inner{
	position: relative;

	.has-track-selection &{
		overflow: hidden;
	}

	&:after, &:before{
		content: '';
		position: absolute;
		top: 1px; //1px instead of 0 tucks the disc right inside the parent container preventing buggy overflow visibility due to border radius I think?
		right: 1px;
		bottom: 1px;
		left: 1px;
		border-radius: 100%;
	}

	&:before{
		width: 33.33333333%;
		height: 33.33333333%;
		margin: auto;
		z-index: -1;
		background: white;
	}

	&:after{
		z-index: -10;
		background: $black;
		.selected & {
			background: $green;
		}
	}
}

.track-number-label{
	position: absolute;
	height: 1em;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	margin: auto;
	font-family: $sans-special;
	font-size: 2.5em;
	color: $dark-grey;
	z-index: -1;

	.has-track-selection &{
		display: none;
	}
}

.playlist-track-select{
	display: none;
}

.chosen-track-art-inner{
	width: 100%;
	padding-bottom: calc(100% - 6px); //6px of vertical border space
	border: 3px solid transparent;
	pointer-events: none;

	img{
		position: absolute;
		min-width: 100%;
		height: 100%;
		z-index: -1;
		left: 0;
		top: 0;
	}

	.landscape{
		left: -16.66666667%; //Half of 33.333333% overflow of 1.333 Youtube aspect ratio
	}

	img[src=""]{
		display: none;
	}
}

.change-track-button{
	opacity: 0;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 2em;
	height: 2em;
	margin: auto;
	border-radius: 100%;
	font-size: 1.5em;
	line-height: 2.1;
	color: $black;
	background: $green;
	cursor: pointer;
	@include icomoon('trashcan');
	@extend .transition;
}

.chosen-track-title{
	display: block;
	display: -webkit-box;
	position: absolute;
	right: 7.5%;
	left: 7.5%;
	max-width: 100%;
	height: 2.15em;
	padding: 0 0.5em;
	margin-top: 0.75em;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
	text-overflow: ellipsis;
	font-family: $sans-special;
	font-size: 0.8em;
}


//Search
.playlist-create{
	.track-search-container{
	  margin: 2em 0;
	}

	.track-search-input-container{
		position: relative;
		@include icomoon(search);

		&:before{
			position: absolute;
			right: 1em;
			top: 0;
			bottom: 0;
			height: 1em;
			margin: auto;
			font-size: 1.75em;
		}
	}

	.track-search-query{
		padding-right: 70px;

	  &.loading{
	  	position: relative;
	    background-image: url("../img/loading-fast.gif");
	    background-repeat: no-repeat;
	    background-position: 96.5% 50%;
	    background-size: 30px 30px;
	    background-color: white;
	  }
	}

	.search-submit{
		position: absolute;
		top: 1px;
		right: 3px;
		bottom: 1px;
		width: 120px;
		height: auto;
	}
}

//Playlist Title
.playlist-create-title-container{
	display: none;
	position: relative;
	margin: 3em 0 10em;
}

.new-playlist-title{
	position: relative;
}

.playlist-create-submit{
	position: absolute;
	top: 0;
	@extend .transition;

	&.active{
		top: 3em;
	}
}




//Share Playlist Link
.share-link{
	font-size: 1.2em;
	text-align: center;
	cursor: text;
}