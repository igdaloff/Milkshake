// ========================
// Playlist Playback
// ========================

.playback-page {
	overflow: hidden;

	.main-content{
		background: $off-white;
	}

	.footer-push{
		display: none;
	}
}

.playlist{
	width: $left-rail-width;
	height: 100vh;
	background: $off-white;
	border-right: 1px solid $border-grey;
}

.playback-header{
	display: table;
	position: relative;
	width: 100%;
	height: $playback-header-height;
	padding: 1em;
	font-family: $sans-special;
	text-align: center;
	background: white;
	z-index: 100;
}

.playback-header-inner{
	display: table-cell;
	vertical-align: middle;
}

.playback-logo{
	display: inline-block;
	height: 60px;
	width: 60px;
	margin: 0 auto;

	img{
		width: 100%;
	}
}

.playback-logo-static{
	display: none;

	.playback-page:not(.playlist-playing) &{
		display: block;
	}
}

.playback-logo-animated{
	display: none;

	.playlist-playing &{
		display: block;
	}
}

.playlist-title{
	width: 100%;
	@extend h2;
	padding: 10px 0;
	margin: 10px 0;
	text-align: center;
	color: $black;
	cursor: pointer;

	&:focus{
		outline: 0;
	}
}

.playlist-title-static{
	.editable &{
		display: none;
	}
}

.playlist-title-editable{
	display: none;

	.editable &{
		display: block;
		margin: 9px 0; //10px margin - 1px border

		.playlist-title-input{
			width: 100%;
			padding: 10px;
			border: 1px solid;
			margin-top: -1px; //To prevent jumpiness
			cursor: default;
			background: $off-white;
			color: $black;
			text-align: center;
			font-family: $sans-special;
			font-size: inherit;

			&:focus{
				outline: 0;
			}
		}
	}
}

.playlist-time{
	display: inline-block;
}

.playlist-controls{
	display: inline;
	width: 10px;
	margin-left: 10px;
	vertical-align: middle;
}

.mute-toggle{
	@include icomoon('volume');
	cursor: pointer;

	button{
		margin: 0;
		padding: 0;
		background: 0;
		border: 0;
		text-indent: -9999px;
	}

	&.muted{
		@include icomoon('mute');
	}
}




//Playback tracks
.playback-tracks{
	position: absolute;
	top: $playback-header-height + $playback-search-height;
	bottom: 0;
	width: $left-rail-width;
	border-right: 1px solid $border-grey;
	overflow: auto;
	z-index: 1;
	background: $off-white;

	.playback-track-list.played-tracks tr{
		display: none;

		&.played,
		&.current {
			display: table-row;
		}
	}

	.playback-track-list.future-tracks tr{
		&.played,
		&.current {
			display: none;
		}
	}
}

.playback-track{
	position: relative;
	background: white;

	&.current{
		background: $green;
	}

	&.played{
		cursor: default;

		img{
			@include filter(grayscale(100%));
			opacity: 0.5;
		}

		.playback-track-title{
			opacity: 0.5;

			a:hover{
				text-decoration: none;
			}
		}

		&:hover{
			.readd-track-container{
				opacity: 1;
			}

			.track-search-result-duration{
				color: white;
			}
		}
	}

	&:not(.current):not(.played){
		cursor: -moz-grab;
		cursor: -webkit-grab;
		cursor: grab;

		&:hover{
			.delete-track-container{
				opacity: 1;
			}

			.track-search-result-duration{
				color: white;
			}
		}

		.delete-track-container:focus{
			opacity: 1;
		}
	}

	&:not(.played) .playback-track-title:hover a{
		text-decoration: underline;
	}
}

.delete-track-container, .readd-track-container{
	opacity: 0;
}

.delete-track, .readd-track{
	position: absolute;
	right: 10px;
	top: 0;
	bottom: 0;
	margin: auto;
	font-size: 16px;
	line-height: 1.8;
	z-index: 1;

	&:focus{
		outline: 0;
	}
}

.delete-track{
	@include icomoon('trashcan');
}

.readd-track{
	@include icomoon('refresh');
}




// Draggable track styles
.ui-sortable-helper{
	background: white;
	border: 0;
	box-shadow: 0 0 0 2px $green;
	@include transform(rotate(2deg));
	overflow: hidden;
	cursor: -moz-grabbing;
	cursor: -webkit-grabbing;
	cursor: grabbing;

	td.basic-table-row-title h5{
		max-width: 65%;
	}
}

.track-reorder-gap{
	border: 2px dotted $green;
}



// Playback states
.playlist-full {
	.playlist-full-message {
		display: block;
	}

	.loading-message {
		display: none !important;
	}
}

.playlist-waiting {
	.welcome-message {
		display: block;
	}

	.loading-message {
		display: none !important;
	}
}

.playlist-loading {
	.loading-message {
		display: block;
	}
}

.playlist-playing{
	.main-header{
		display: none;
	}

	.playlist, .playlist-progress {
		display: inline-block;
	}

	a#barometer_tab{
		top: auto;
		bottom: 5%;
	}
}

.loading-message {
	margin-top: 1.25em;
	font-family: $sans-special;
	font-size: 2em;
	text-align: center;

	.loading-indicator {
		margin: 1em 0;
	}
}

.welcome-message,
.playlist-full-message,
.playlist-progress {
	display: none;
}